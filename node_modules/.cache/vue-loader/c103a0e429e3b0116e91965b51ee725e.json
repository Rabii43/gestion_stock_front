{"remainingRequest":"/home/terres-rabii/Documents/travail/scrum/gestion stock front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/terres-rabii/Documents/travail/scrum/gestion stock front/src/components/userTable/userList.vue?vue&type=style&index=0&id=d9474736&scoped=true&lang=css&","dependencies":[{"path":"/home/terres-rabii/Documents/travail/scrum/gestion stock front/src/components/userTable/userList.vue","mtime":1652329031641},{"path":"/home/terres-rabii/Documents/travail/scrum/gestion stock front/node_modules/css-loader/dist/cjs.js","mtime":1647982857669},{"path":"/home/terres-rabii/Documents/travail/scrum/gestion stock front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1648047806763},{"path":"/home/terres-rabii/Documents/travail/scrum/gestion stock front/node_modules/postcss-loader/src/index.js","mtime":1647982858082},{"path":"/home/terres-rabii/Documents/travail/scrum/gestion stock front/node_modules/cache-loader/dist/cjs.js","mtime":1647982849025},{"path":"/home/terres-rabii/Documents/travail/scrum/gestion stock front/node_modules/vue-loader/lib/index.js","mtime":1648047806763}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpoNSBhIHsKICBjb2xvcjogIzQ5NTA1NyAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["userList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgRA;AACA;AACA","file":"userList.vue","sourceRoot":"src/components/userTable","sourcesContent":["<template>\n  <div>\n    <PageHeader :title=\"title\" :items=\"items\"/>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"table-responsive\">\n              <table class=\"table align-middle table-nowrap table-hover\">\n                <thead class=\"table-light\">\n                <tr>\n                  <th scope=\"col\" style=\"width: 70px\">#</th>\n                  <th scope=\"col\">Nom</th>\n                  <th scope=\"col\">Email</th>\n                  <th scope=\"col\">Roles</th>\n                  <th scope=\"col\">Status</th>\n                  <th scope=\"col\">Action</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr v-for=\"list in usersData\" :key=\"list.id\">\n                  <td>\n                    <div v-if=\"!list.image\" class=\"avatar-xs\">\n                      <span class=\"avatar-title rounded-circle\">{{ list.username.charAt(0) }}</span>\n                    </div>\n                    <div v-if=\"list.image\">\n                      <img\n                          class=\"rounded-circle avatar-xs\"\n                          :src=\"list.image\"\n                          alt\n                      />\n                    </div>\n                  </td>\n                  <td>\n                    <h5 class=\"font-size-14 mb-1\">\n                      <a :href=\"'/users/' + list.id\" class=\"text-dark\"\n                      > {{ list.username }}</a>\n                    </h5>\n                  </td>\n                  <td>{{ list.email }}</td>\n                  <td>\n                    <div>\n                      <a\n                          class=\"badge badge-soft-primary font-size-11 m-1\"\n                          v-for=\"(role, index) in list.roles\"\n                          :key=\"index\"\n                      >{{ role }}</a>\n                    </div>\n                  </td>\n                  <td>\n                    <span v-html=\"(list.active) ?'Active':'Non Active'\"\n                          :class=\"(list.active) ?'badge bg-success':'badge bg-danger'\"\n                    ></span>\n                  </td>\n                  <td>\n                    <ul class=\"list-inline font-size-20 contact-links mb-0\">\n                      <li class=\"list-inline-item px-2\">\n                        <i\n                            v-b-tooltip.hover\n                            title=\"Activer\"\n                            :class=\"(list.active) ?'bx bx-user-x text-danger pointer':'bx bx-user-plus text-success pointer'\"\n                            @click=\"confirmActivateUser(list)\">\n                        </i>\n                      </li>\n                      <li class=\"list-inline-item px-2\">\n                        <a :href=\"'/users/' + list.id\">\n                          <i\n                              v-b-tooltip.hover\n                              title=\"Modifier\"\n                              class=\"bx bx-edit-alt pointer mr-2 color-edit\"\n                          >\n                          </i>\n                        </a>\n                      </li>\n                      <li class=\"list-inline-item px-2\">\n                        <i\n                            v-b-tooltip.hover\n                            title=\"Supprimer\"\n                            @click=\"confirmDeleteUser(list)\"\n                            class=\"bx bx-trash-alt pointer color-delete my-3\"\n                        >\n                        </i>\n                      </li>\n                    </ul>\n                  </td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"@/app.config\";\nimport Swal from \"sweetalert2\";\n\n/**\n * Users component\n */\nexport default {\n  page: {\n    title: \"liste des utilisateurs\",\n    meta: [{name: \"listuser\", content: appConfig.description}],\n  },\n  components: {PageHeader},\n  data() {\n    return {\n      title: \"Liste des utilisateurs\",\n      items: [],\n      currentPage: 1,\n      totalPages: 0,\n      baseURL: process.env.API_URL,\n    };\n  },\n  created() {\n    this.getListUsers();\n  },\n  methods: {\n    getListUsers() {\n      this.$store.dispatch(\"users/listUsers\");\n    },\n    confirmDeleteUser(element) {\n      this.showAlert({\n        title: \"Vous êtes sûr ?\",\n        text: \"Vous ne pourrez pas revenir en arrière !\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#b1215c\",\n        confirmButtonText: \"Oui, supprimez-le !\",\n        cancelButtonText: \"Annuler\",\n        confirmType: {\n          type: \"deleteUser\",\n          id: element.id,\n        },\n      });\n    },\n    /* delete user  */\n    deleteUser(id) {\n      this.$store.dispatch(\"users/deleteUser\", id).then(\n          (res) => {\n            if (res)\n              this.showAlert({\n                icon: \"success\",\n                title: \"Supprimé!\",\n                text: \"L'utilisateur a été supprimé avec succès\",\n                confirmType: {\n                  type: \"refreshUsers\",\n                },\n              });\n          },\n          (err) => {\n            if (err)\n              this.showAlert({\n                icon: \"error\",\n                title: \"Non supprimé!\",\n                text: \"Echec de suppression d'utilisateur\",\n              });\n          }\n      );\n    },\n    /* Alerts */\n    showAlert(data) {\n      Swal.fire({\n        icon: data.icon,\n        title: data.title,\n        text: data.text,\n        confirmButtonColor: \"#b1215c\",\n        showCancelButton: data.showCancelButton,\n        confirmButtonText: data.confirmButtonText\n            ? data.confirmButtonText\n            : \"OK\",\n        cancelButtonText: data.cancelButtonText,\n      }).then((res) => {\n        if (data.confirmType) {\n          if (data.confirmType.type === \"deleteUser\") {\n            if (res.isConfirmed) this.deleteUser(data.confirmType.id);\n          }\n          if (data.confirmType.type === \"activateUser\") {\n            if (res.isConfirmed) this.activateUser(data.confirmType.id);\n          }\n          if (data.confirmType.type === \"refreshUsers\") {\n            this.getListUsers();\n          }\n        }\n      });\n    },\n    confirmActivateUser(element) {\n      if (!element.active) {\n        this.showAlert({\n          title: \"Activer l'utilisateur\",\n          text: \"êtes-vous sûr d'activer cet utilisateur ?\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#b1215c\",\n          confirmButtonText: \"Oui, Activer\",\n          cancelButtonText: \"Annuler\",\n          confirmType: {\n            type: \"activateUser\",\n            id: element.id,\n          },\n        });\n      } else if (element.active) {\n        this.showAlert({\n          title: \"Désactiver l'utilisateur\",\n          text: \"êtes-vous sûr de désactiver cet utilisateur ?\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#b1215c\",\n          confirmButtonText: \"Oui, Désactiver\",\n          cancelButtonText: \"Annuler\",\n          confirmType: {\n            type: \"activateUser\",\n            id: element.id,\n          },\n        });\n      } else {\n        return;\n      }\n    },\n    /* delete user  */\n    activateUser(id) {\n      this.$store.dispatch(\"users/activateUser\", id).then(\n          (res) => {\n            if (res.data.active) {\n              this.showAlert({\n                icon: \"success\",\n                title: \"Activation!\",\n                text: \"L'utilisateur a été activé avec succès\",\n                confirmType: {\n                  type: \"refreshUsers\",\n                },\n              });\n            } else if (!res.data.active) {\n              this.showAlert({\n                icon: \"warning\",\n                title: \"Désactivation!\",\n                text: \"L'utilisateur a été désactivé avec succès\",\n                confirmType: {\n                  type: \"refreshUsers\",\n                },\n              });\n            } else {\n              this.showAlert({\n                icon: \"error\",\n                title: \"Echec\",\n              });\n            }\n          },\n          (err) => {\n            if (err)\n              this.showAlert({\n                icon: \"error\",\n                title: \"Activation!\",\n                text: \"Echec d'activation de l'utilisateur\",\n              });\n          }\n      );\n    },\n  },\n  computed: {\n    usersData() {\n      return this.$store.getters[\"users/getUsers\"];\n    },\n  },\n};\n</script>\n\n<style scoped>\nh5 a {\n  color: #495057 !important;\n}\n</style>\n"]}]}